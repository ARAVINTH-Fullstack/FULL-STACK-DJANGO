<!-- Top Navbar -->
<nav class="navbar navbar-expand-lg  shadow-sm py-3 sticky-top" style="font-family: 'Inter', sans-serif; background-color: #FFF8E1;">
    <div class="container-fluid d-flex flex-lg-row flex-column align-items-center px-3 gap-2 gap-lg-4 justify-content-around">

        <!-- Brand -->
        <div class="d-lg-block text-center w-100 d-flex mb-1 d-lg-none justify-content-around align-items-center">
            <a class="navbar-brand text-primary " href="{% url 'home_page' %}">ShopSmart</a>
            <div class="dropdown">
                {% if user.is_authenticated %}
                <a class="btn dropdown-toggle p-0 border-0 bg-transparent" href="#" role="button" data-bs-toggle="dropdown">
                    {{ user.username }}
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="{% url 'profile_page' %}">Profile</a></li>
                    <li><a class="dropdown-item" href="{% url 'track_order' %}">Track Orders</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="{% url 'logout_page' %}">Logout</a></li>
                {% else %}
                <a class="btn dropdown-toggle p-0 border-0 bg-transparent" href="#" role="button" data-bs-toggle="dropdown">
                    login
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="{% url 'login_page' %}">Login</a></li>
                    <li><a class="dropdown-item" href="{% url 'signup_page' %}">Register</a></li>
                    <li><a class="dropdown-item" href="#">Help</a></li>
                {% endif %}
                </ul>
            </div>
            <div>
                <a href="{% url 'showcart' %}">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="30" height="30" viewBox="0 0 256 256" xml:space="preserve">
                        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                            <path d="M 16.569 24.711 c -1.378 0 -2.62 -0.956 -2.927 -2.357 l -0.554 -2.522 c -0.724 -3.296 -3.698 -5.689 -7.072 -5.689 H 3 c -1.657 0 -3 -1.343 -3 -3 s 1.343 -3 3 -3 h 3.016 c 6.171 0 11.61 4.375 12.933 10.402 l 0.554 2.521 c 0.355 1.619 -0.668 3.218 -2.287 3.574 C 16.999 24.689 16.782 24.711 16.569 24.711 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            <path d="M 64.526 73.691 c -0.005 -0.136 -0.021 -0.27 -0.021 -0.407 c 0 -2.07 0.633 -3.995 1.715 -5.593 H 42.755 c 1.082 1.597 1.714 3.523 1.714 5.593 c 0 0.137 -0.015 0.271 -0.021 0.407 H 64.526 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            <path d="M 24.469 73.284 c 0 -2.081 0.64 -4.015 1.733 -5.617 c -1.408 -0.123 -2.519 -1.295 -2.519 -2.734 c 0 -1.521 1.237 -2.758 2.758 -2.758 c 1.657 0 3 -1.343 3 -3 s -1.343 -3 -3 -3 c -4.83 0 -8.758 3.929 -8.758 8.758 c 0 4.154 2.909 7.634 6.796 8.528 C 24.477 73.402 24.469 73.344 24.469 73.284 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            <path d="M 76.675 62.176 H 24.794 c -1.409 0 -2.628 -0.98 -2.93 -2.356 l -8.222 -37.465 c -0.195 -0.887 0.023 -1.815 0.592 -2.523 c 0.57 -0.708 1.429 -1.12 2.338 -1.12 H 87 c 0.853 0 1.665 0.363 2.234 0.998 c 0.568 0.635 0.841 1.482 0.748 2.33 l -3.434 31.287 C 85.995 58.371 81.75 62.176 76.675 62.176 z M 27.207 56.176 h 49.468 c 2.01 0 3.69 -1.507 3.909 -3.505 l 3.068 -27.96 H 20.302 L 27.207 56.176 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            <path d="M 53.842 62.176 c -1.657 0 -3 -1.343 -3 -3 V 21.711 c 0 -1.657 1.343 -3 3 -3 s 3 1.343 3 3 v 37.465 C 56.842 60.833 55.499 62.176 53.842 62.176 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            <path d="M 68.233 62.176 c -0.082 0 -0.165 -0.003 -0.249 -0.01 c -1.651 -0.137 -2.88 -1.585 -2.744 -3.236 l 3.083 -37.465 c 0.136 -1.65 1.568 -2.882 3.236 -2.744 c 1.651 0.136 2.88 1.584 2.744 3.236 l -3.083 37.465 C 71.092 60.989 69.779 62.176 68.233 62.176 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            <path d="M 39.448 62.176 c -1.51 0 -2.81 -1.137 -2.978 -2.673 l -4.111 -37.465 c -0.181 -1.647 1.008 -3.128 2.655 -3.309 c 1.647 -0.18 3.128 1.008 3.309 2.655 l 4.111 37.465 c 0.181 1.646 -1.008 3.129 -2.655 3.31 C 39.668 62.17 39.558 62.176 39.448 62.176 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            <path d="M 84.944 43.443 H 20.683 c -1.657 0 -3 -1.343 -3 -3 s 1.343 -3 3 -3 h 64.262 c 1.657 0 3 1.343 3 3 S 86.602 43.443 84.944 43.443 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                            <circle cx="34.47" cy="73.28" r="7" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(47,145,175); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                            <circle cx="74.5" cy="73.28" r="7" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(47,145,175); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                        </g>
                    </svg>
                </a>
            </div>
            <div>
                <a href="{% url 'wishlist_view' %}">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="30" height="30" viewBox="0 0 256 256" xml:space="preserve">
                        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                            <path d="M 84.646 11.504 C 75.554 1.233 58.335 -0.041 45 13.074 C 31.665 -0.041 14.446 1.233 5.354 11.504 c -9.671 10.926 -5.609 31.318 7.123 47.615 C 18.931 67.38 34.874 80.832 45 86.481 c 10.126 -5.649 26.069 -19.101 32.523 -27.362 C 90.255 42.822 94.318 22.43 84.646 11.504 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(248,48,95); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        </g>
                    </svg>
                </a>
            </div>
        </div>
        <div class="d-none d-lg-block">
            <a class="navbar-brand fw-bold fs-4 text-primary" href="{% url 'home_page' %}">ShopSmart</a>
        </div>

        <!-- Search -->
        <form class="d-flex position-relative w-100" role="search" method="GET" action="{% url 'search_page' %}">
            <input id="search-box" class="form-control me-2 rounded-pill shadow-sm" type="search" name="q"
                placeholder="Search products..." aria-label="Search">
            <button class="btn btn-outline-primary rounded-pill px-4" type="submit">Search</button>
            <ul id="searchSuggestions"
                class="list-group position-absolute top-100 start-0 w-100 shadow-sm d-none z-3"
                style="max-height: 250px; overflow-y: auto;"></ul>
        </form>

        <!-- Desktop Navigation -->
        <ul class="navbar-nav ms-lg-auto d-none d-lg-flex align-items-center w-100 gap-4">
            <li class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                        <path d="M 9 33.294 l 0 46.274 c 0 1.576 1.278 2.854 2.854 2.854 h 66.293 c 1.576 0 2.854 -1.278 2.854 -2.854 l 0 -46.274 l 0 -13.301 c 0 -1.576 -1.278 -2.854 -2.854 -2.854 H 11.854 C 10.278 17.14 9 18.417 9 19.993 L 9 33.294 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(64,89,107); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 69.335 43.125 H 54.623 c -1.176 0 -2.13 0.954 -2.13 2.13 v 33.307 h 18.972 V 45.255 C 71.465 44.079 70.511 43.125 69.335 43.125 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(214,224,235); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 41.403 68.023 H 20.565 c -1.121 0 -2.03 -0.909 -2.03 -2.03 V 45.155 c 0 -1.121 0.909 -2.03 2.03 -2.03 h 20.839 c 1.121 0 2.03 0.909 2.03 2.03 v 20.839 C 43.433 67.115 42.524 68.023 41.403 68.023 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(214,224,235); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 9.2 33.294 H 8.8 c -4.86 0 -8.8 -3.94 -8.8 -8.8 l 0 -3.054 c 5.481 -1.841 11.432 -2.016 18 0 v 3.054 C 18 29.354 14.06 33.294 9.2 33.294 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(231,78,58); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 27.2 33.294 h -0.4 c -4.86 0 -8.8 -3.94 -8.8 -8.8 V 21.44 c 6.388 -1.301 12.427 -1.433 18 0 v 3.054 C 36 29.354 32.06 33.294 27.2 33.294 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(176,182,188); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 80.8 33.294 h 0.4 c 4.86 0 8.8 -3.94 8.8 -8.8 V 21.44 c -5.589 -1.483 -11.652 -1.253 -18 0 v 3.054 C 72 29.354 75.94 33.294 80.8 33.294 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(231,78,58); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 62.8 33.294 h 0.4 c 4.86 0 8.8 -3.94 8.8 -8.8 V 21.44 c -6 -2.558 -12 -2.558 -18 0 v 3.054 C 54 29.354 57.94 33.294 62.8 33.294 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(176,182,188); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 36 21.44 c 0.929 -3.982 0.861 -8.649 0 -13.861 H 23.225 c -3.432 4.62 -5.173 9.241 -5.225 13.861 H 36 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(214,224,235); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <polygon points="0,21.44 11.39,7.58 23.23,7.58 18,21.44 " style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,112,88); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                        <path d="M 54 21.44 c -2.167 -4.489 -1.851 -9.128 0 -13.861 h 12.775 c 4.264 5.189 6.219 9.858 5.225 13.861 H 54 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(214,224,235); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <polygon points="90,21.44 78.61,7.58 66.78,7.58 72,21.44 " style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,112,88); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                        <path d="M 45.2 33.294 h -0.4 c -4.86 0 -8.8 -3.94 -8.8 -8.8 V 21.44 c 6 -2.558 12 -2.558 18 0 v 3.054 C 54 29.354 50.06 33.294 45.2 33.294 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(231,78,58); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <polygon points="36,7.58 46.77,7.58 54,7.58 54,21.44 36,21.44 " style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,112,88); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                    </g>
                </svg>
                <a class="text-dark" href="{% url 'vendor' %}">
                    Become a Seller
                </a>
            </li>
            <!-- User Profile -->
            {% if user.is_authenticated %}
            <li class="nav-item dropdown">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                        <path d="M 79.65 73.679 C 86.111 65.887 90 55.89 90 45 C 90 20.187 69.813 0 45 0 C 20.187 0 0 20.187 0 45 c 0 10.89 3.89 20.887 10.35 28.679 c 0.115 0.164 0.247 0.316 0.397 0.458 C 19.008 83.833 31.294 90 45 90 c 13.705 0 25.99 -6.166 34.25 -15.86 C 79.402 73.997 79.535 73.844 79.65 73.679 z M 45 6 c 21.505 0 39 17.495 39 39 c 0 8.284 -2.604 15.967 -7.026 22.29 c -5.635 -5.697 -12.618 -9.744 -20.246 -11.799 c 6.118 -3.892 10.188 -10.728 10.188 -18.5 c 0 -12.085 -9.832 -21.917 -21.917 -21.917 s -21.917 9.832 -21.917 21.917 c 0 7.772 4.07 14.608 10.188 18.5 c -7.628 2.055 -14.611 6.101 -20.246 11.799 C 8.604 60.967 6 53.284 6 45 C 6 23.495 23.495 6 45 6 z M 45 52.908 c -8.776 0 -15.917 -7.14 -15.917 -15.917 c 0 -8.776 7.14 -15.917 15.917 -15.917 s 15.917 7.14 15.917 15.917 C 60.917 45.768 53.776 52.908 45 52.908 z M 45 84 c -11.056 0 -21.045 -4.632 -28.148 -12.048 C 24.196 64.288 34.31 59.933 45 59.933 c 10.69 0 20.804 4.355 28.148 12.019 C 66.045 79.368 56.056 84 45 84 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(7,192,234); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                    </g>
                </svg>
                <a class="dropdown-toggle text-dark" href="#" role="button" data-bs-toggle="dropdown">          
                    {{ user.username }}
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="{% url 'profile_page' %}">Profile</a></li>
                    <li><a class="dropdown-item" href="{% url 'track_order' %}">Track Orders</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="{% url 'logout_page' %}">Logout</a></li>
                </ul>
            </li>
            {% else %}
            <li class="nav-item dropdown">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                        <path d="M 79.65 73.679 C 86.111 65.887 90 55.89 90 45 C 90 20.187 69.813 0 45 0 C 20.187 0 0 20.187 0 45 c 0 10.89 3.89 20.887 10.35 28.679 c 0.115 0.164 0.247 0.316 0.397 0.458 C 19.008 83.833 31.294 90 45 90 c 13.705 0 25.99 -6.166 34.25 -15.86 C 79.402 73.997 79.535 73.844 79.65 73.679 z M 45 6 c 21.505 0 39 17.495 39 39 c 0 8.284 -2.604 15.967 -7.026 22.29 c -5.635 -5.697 -12.618 -9.744 -20.246 -11.799 c 6.118 -3.892 10.188 -10.728 10.188 -18.5 c 0 -12.085 -9.832 -21.917 -21.917 -21.917 s -21.917 9.832 -21.917 21.917 c 0 7.772 4.07 14.608 10.188 18.5 c -7.628 2.055 -14.611 6.101 -20.246 11.799 C 8.604 60.967 6 53.284 6 45 C 6 23.495 23.495 6 45 6 z M 45 52.908 c -8.776 0 -15.917 -7.14 -15.917 -15.917 c 0 -8.776 7.14 -15.917 15.917 -15.917 s 15.917 7.14 15.917 15.917 C 60.917 45.768 53.776 52.908 45 52.908 z M 45 84 c -11.056 0 -21.045 -4.632 -28.148 -12.048 C 24.196 64.288 34.31 59.933 45 59.933 c 10.69 0 20.804 4.355 28.148 12.019 C 66.045 79.368 56.056 84 45 84 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(7,192,234); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                    </g>
                </svg>
                <a class="dropdown-toggle text-dark" href="{% url 'login_page' %}" role="button" data-bs-toggle="dropdown">
                    Login
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="{% url 'login_page' %}">Login</a></li>
                    <li><a class="dropdown-item" href="{% url 'signup_page' %}">Register</a></li>
                    <li><a class="dropdown-item" href="#">Help</a></li>
                </ul>
            </li>
            {% endif %}
            <!-- Cart -->
            <li class="nav-item position-relative">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="40" height="40" viewBox="0 0 256 256" xml:space="preserve">
                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                        <path d="M 16.569 24.711 c -1.378 0 -2.62 -0.956 -2.927 -2.357 l -0.554 -2.522 c -0.724 -3.296 -3.698 -5.689 -7.072 -5.689 H 3 c -1.657 0 -3 -1.343 -3 -3 s 1.343 -3 3 -3 h 3.016 c 6.171 0 11.61 4.375 12.933 10.402 l 0.554 2.521 c 0.355 1.619 -0.668 3.218 -2.287 3.574 C 16.999 24.689 16.782 24.711 16.569 24.711 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 64.526 73.691 c -0.005 -0.136 -0.021 -0.27 -0.021 -0.407 c 0 -2.07 0.633 -3.995 1.715 -5.593 H 42.755 c 1.082 1.597 1.714 3.523 1.714 5.593 c 0 0.137 -0.015 0.271 -0.021 0.407 H 64.526 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 24.469 73.284 c 0 -2.081 0.64 -4.015 1.733 -5.617 c -1.408 -0.123 -2.519 -1.295 -2.519 -2.734 c 0 -1.521 1.237 -2.758 2.758 -2.758 c 1.657 0 3 -1.343 3 -3 s -1.343 -3 -3 -3 c -4.83 0 -8.758 3.929 -8.758 8.758 c 0 4.154 2.909 7.634 6.796 8.528 C 24.477 73.402 24.469 73.344 24.469 73.284 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 76.675 62.176 H 24.794 c -1.409 0 -2.628 -0.98 -2.93 -2.356 l -8.222 -37.465 c -0.195 -0.887 0.023 -1.815 0.592 -2.523 c 0.57 -0.708 1.429 -1.12 2.338 -1.12 H 87 c 0.853 0 1.665 0.363 2.234 0.998 c 0.568 0.635 0.841 1.482 0.748 2.33 l -3.434 31.287 C 85.995 58.371 81.75 62.176 76.675 62.176 z M 27.207 56.176 h 49.468 c 2.01 0 3.69 -1.507 3.909 -3.505 l 3.068 -27.96 H 20.302 L 27.207 56.176 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 53.842 62.176 c -1.657 0 -3 -1.343 -3 -3 V 21.711 c 0 -1.657 1.343 -3 3 -3 s 3 1.343 3 3 v 37.465 C 56.842 60.833 55.499 62.176 53.842 62.176 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 68.233 62.176 c -0.082 0 -0.165 -0.003 -0.249 -0.01 c -1.651 -0.137 -2.88 -1.585 -2.744 -3.236 l 3.083 -37.465 c 0.136 -1.65 1.568 -2.882 3.236 -2.744 c 1.651 0.136 2.88 1.584 2.744 3.236 l -3.083 37.465 C 71.092 60.989 69.779 62.176 68.233 62.176 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 39.448 62.176 c -1.51 0 -2.81 -1.137 -2.978 -2.673 l -4.111 -37.465 c -0.181 -1.647 1.008 -3.128 2.655 -3.309 c 1.647 -0.18 3.128 1.008 3.309 2.655 l 4.111 37.465 c 0.181 1.646 -1.008 3.129 -2.655 3.31 C 39.668 62.17 39.558 62.176 39.448 62.176 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <path d="M 84.944 43.443 H 20.683 c -1.657 0 -3 -1.343 -3 -3 s 1.343 -3 3 -3 h 64.262 c 1.657 0 3 1.343 3 3 S 86.602 43.443 84.944 43.443 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(59,165,224); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                        <circle cx="34.47" cy="73.28" r="7" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(47,145,175); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                        <circle cx="74.5" cy="73.28" r="7" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(47,145,175); fill-rule: nonzero; opacity: 1;" transform="  matrix(1 0 0 1 0 0) "/>
                    </g>
                </svg>
                <a class="text-dark" href="{% url 'showcart' %}">
                    Cart
                    {% if cart_item_count %}
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        {{ cart_item_count }}
                    </span>
                    {% endif %}
                </a>
            </li>
            <!-- Wishlist -->
            <li class="nav-item position-relative">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                        <path d="M 84.646 11.504 C 75.554 1.233 58.335 -0.041 45 13.074 C 31.665 -0.041 14.446 1.233 5.354 11.504 c -9.671 10.926 -5.609 31.318 7.123 47.615 C 18.931 67.38 34.874 80.832 45 86.481 c 10.126 -5.649 26.069 -19.101 32.523 -27.362 C 90.255 42.822 94.318 22.43 84.646 11.504 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(248,48,95); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                    </g>
                </svg>
                <a class="text-dark" href="{% url 'wishlist_view' %}">
                    Wishlist
                    {% if wishlist_item_count %}
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        {{ wishlist_item_count }}
                    </span>
                    {% endif %}
                </a>
            </li>
        </ul>
    </div>
</nav>


<script>
    const searchBox = document.getElementById('search-box')

    const phrases = ['mobiles','laptops','trending','fresh fruits','top discount']

    let phraseIndex = 0
    let charIndex = 0
    let cursorVisible = true
    let isDeleting = false
    let userTyped = false

    function typeAnimation() {
        if(userTyped) return;

        const currentPhrase = phrases[phraseIndex]
        let displayText = currentPhrase.substring(0,charIndex)

        if(isDeleting) {
            charIndex--
        } else {
            charIndex++
        }

        if(!isDeleting && charIndex === currentPhrase.length + 2) {
            isDeleting = true
            setTimeout(typeAnimation,1000)
            return
        }

        if(isDeleting && charIndex === 0) {
            isDeleting = false
            phraseIndex = (phraseIndex + 1) % phrases.length
        }

        cursorVisible = !cursorVisible
        const cursorChar = cursorVisible?"|":"";
        searchBox.placeholder = displayText + cursorChar

        setTimeout(typeAnimation,isDeleting?50:100)
    }

    searchBox.addEventListener("input",() => {
        userTyped = true
        searchBox.placeholder = "";
    })

    searchBox.addEventListener("blur",() => {
        if(searchBox.value.trim() === "") {
            userTyped = false
            charIndex = 0
            typeAnimation()
        }
    })

    document.addEventListener("DOMContentLoaded",typeAnimation)
</script>
